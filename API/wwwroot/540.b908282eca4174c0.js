"use strict";(self.webpackChunkUI=self.webpackChunkUI||[]).push([[540],{1540:(x,h,l)=>{l.r(h),l.d(h,{AccountModule:()=>P});var g=l(177),p=l(6622),i=l(4341),F=l(6697),e=l(2598),v=l(978);function C(t,o){if(1&t&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&t){const s=o.$implicit;e.R7$(1),e.SpI("\n",s," ")}}function $(t,o){if(1&t&&(e.j41(0,"ul",1),e.DNE(1,C,2,1,"li",2),e.k0s()),2&t){const s=e.XpG();e.R7$(1),e.Y8G("ngForOf",s.errorMessage)}}let b=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-validation-messages"]],inputs:{errorMessage:"errorMessage"},decls:1,vars:1,consts:[["class","text_danger",4,"ngIf"],[1,"text_danger"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&e.DNE(0,$,2,1,"ul",0),2&n&&e.Y8G("ngIf",r.errorMessage)},dependencies:[g.Sq,g.bT]})}}return t})();function I(t,o){1&t&&(e.j41(0,"span",15),e.EFF(1," Email is requried. "),e.k0s())}function M(t,o){1&t&&(e.j41(0,"span",15),e.EFF(1," Password is requried. "),e.k0s())}function G(t,o){if(1&t&&(e.j41(0,"div",16),e.nrm(1,"app-validation-messages",17),e.k0s()),2&t){const s=e.XpG();e.R7$(1),e.Y8G("errorMessage",s.errorMessage)}}let y=(()=>{class t{constructor(s,n,r,a){this.accountService=s,this.router=n,this.formBuilder=r,this.activatedRoute=a,this.loginForm=new i.gE({}),this.submitted=!1,this.errorMessage=[],this.reurnUrl=null,this.accountService.user$.pipe((0,F.s)(1)).subscribe({next:u=>{u?this.router.navigateByUrl("/"):this.activatedRoute.queryParamMap.subscribe({next:m=>{m&&(this.reurnUrl=m.get("returnUrl"))}})}})}ngOnInit(){this.initializeForm()}initializeForm(){this.loginForm=this.formBuilder.group({userName:["",[i.k0.required]],password:["",[i.k0.required]]})}login(){this.submitted=!0,this.errorMessage=[],this.loginForm.valid&&this.accountService.login(this.loginForm.value).subscribe({next:s=>{this.router.navigateByUrl(this.reurnUrl?this.reurnUrl:"/")},error:s=>{s.error.errors?this.errorMessage=s.error.errors:this.errorMessage.push(s.error)}})}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(v.D),e.rXU(p.Ix),e.rXU(i.ok),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],decls:21,vars:8,consts:[[1,"d-flex","justify-content-center"],[1,"col-12","col-lg-5"],[1,"form-signin"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-3","font-weight-normal"],[1,"form-floating","mb-3"],["formControlName","userName","type","email","placeholder","Email",1,"form-control"],["for","userName"],["class","text-danger",4,"ngIf"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["for","password"],["class","form-floatin",4,"ngIf"],[1,"d-grid","mt-4","px-1"],["type","submit",1,"btn","btn-lg","btn-info"],[1,"text-danger"],[1,"form-floatin"],[3,"errorMessage"]],template:function(n,r){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"main",2)(3,"form",3),e.bIt("ngSubmit",function(){return r.login()}),e.j41(4,"div",4)(5,"h3",5),e.EFF(6,"Login"),e.k0s()(),e.j41(7,"div",6),e.nrm(8,"input",7),e.j41(9,"label",8),e.EFF(10,"Email"),e.k0s(),e.DNE(11,I,2,0,"span",9),e.k0s(),e.j41(12,"div",6),e.nrm(13,"input",10),e.j41(14,"label",11),e.EFF(15,"Password"),e.k0s(),e.DNE(16,M,2,0,"span",9),e.k0s(),e.DNE(17,G,2,1,"div",12),e.j41(18,"div",13)(19,"button",14),e.EFF(20,"Log in"),e.k0s()()()()()()),2&n){let a,u,m,d;e.R7$(3),e.Y8G("formGroup",r.loginForm),e.R7$(5),e.AVh("is-invalid",r.submitted&&(null==(a=r.loginForm.get("userName"))?null:a.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(u=r.loginForm.get("userName"))?null:u.hasError("required"))),e.R7$(2),e.AVh("is-invalid",r.submitted&&(null==(m=r.loginForm.get("password"))?null:m.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(d=r.loginForm.get("password"))?null:d.hasError("required"))),e.R7$(1),e.Y8G("ngIf",r.errorMessage.length>0)}},dependencies:[g.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,b]})}}return t})();var w=l(4739);function T(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," First Name is requried. "),e.k0s())}function U(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," First Name must be atlease 3 and maximum 15 charcters. "),e.k0s())}function D(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Last Name is requried. "),e.k0s())}function L(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Last Name must be atlease 3 and maximum 15 charcters. "),e.k0s())}function Y(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Email is requried. "),e.k0s())}function B(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Email is not valid. "),e.k0s())}function S(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Password is requried. "),e.k0s())}function q(t,o){1&t&&(e.j41(0,"span",6),e.EFF(1," Password must be atlease 8 and maximum 20 charcters. "),e.k0s())}function V(t,o){if(1&t&&(e.j41(0,"div",20),e.nrm(1,"app-validation-messages",21),e.k0s()),2&t){const s=e.XpG();e.R7$(1),e.Y8G("errorMessage",s.errorMessage)}}const X=[{path:"login",component:y},{path:"register",component:(()=>{class t{constructor(s,n,r,a){this.accountService=s,this.sharedService=n,this.router=r,this.formBuilder=a,this.registerForm=new i.gE({}),this.submitted=!1,this.errorMessage=[],s.user$.pipe((0,F.s)(1)).subscribe({next:u=>{u&&this.router.navigateByUrl("/")}})}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.formBuilder.group({firstName:["",[i.k0.required,i.k0.minLength(3),i.k0.maxLength(15)]],lastName:["",[i.k0.required,i.k0.minLength(3),i.k0.maxLength(15)]],email:["",[i.k0.required,i.k0.pattern("^[_a-z0-9-]+(.[a-z0-9-]+)@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$")]],password:["",[i.k0.required,i.k0.minLength(8),i.k0.maxLength(15)]]})}register(){this.submitted=!0,this.errorMessage=[],this.registerForm.valid&&this.accountService.register(this.registerForm.value).subscribe({next:s=>{this.sharedService.showNotification(!0,s.value.title,s.value.message),this.router.navigateByUrl("/account/login")},error:s=>{s.error.errors?this.errorMessage=s.error.errors:this.errorMessage.push(s.error)}})}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(v.D),e.rXU(w.d),e.rXU(p.Ix),e.rXU(i.ok))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],decls:37,vars:18,consts:[[1,"d-flex","justify-content-center"],[1,"col-12","col-lg-5"],[1,"form-signin"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-3","font-weight-normal"],[1,"text-danger"],[1,"form-floating","mb-3"],["formControlName","firstName","type","text","placeholder","First Name",1,"form-control"],["for","firstName"],["class","text-danger",4,"ngIf"],["formControlName","lastName","type","text","placeholder","Last Name",1,"form-control"],["for","lastName"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["for","email"],["formControlName","password","type","password","placeholder","Password",1,"form-control"],["for","password"],["class","form-floatin",4,"ngIf"],[1,"d-grid","mt-4","px-1"],["type","submit",1,"btn","btn-lg","btn-info"],[1,"form-floatin"],[3,"errorMessage"]],template:function(n,r){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"main",2)(3,"form",3),e.bIt("ngSubmit",function(){return r.register()}),e.j41(4,"div",4)(5,"h3",5),e.EFF(6,"Let's get started to "),e.j41(7,"span",6),e.EFF(8,"Play"),e.k0s()()(),e.j41(9,"div",7),e.nrm(10,"input",8),e.j41(11,"label",9),e.EFF(12,"First Name"),e.k0s(),e.DNE(13,T,2,0,"span",10),e.DNE(14,U,2,0,"span",10),e.k0s(),e.j41(15,"div",7),e.nrm(16,"input",11),e.j41(17,"label",12),e.EFF(18,"Last Name"),e.k0s(),e.DNE(19,D,2,0,"span",10),e.DNE(20,L,2,0,"span",10),e.k0s(),e.j41(21,"div",7),e.nrm(22,"input",13),e.j41(23,"label",14),e.EFF(24,"Email"),e.k0s(),e.DNE(25,Y,2,0,"span",10),e.DNE(26,B,2,0,"span",10),e.k0s(),e.j41(27,"div",7),e.nrm(28,"input",15),e.j41(29,"label",16),e.EFF(30,"Password"),e.k0s(),e.DNE(31,S,2,0,"span",10),e.DNE(32,q,2,0,"span",10),e.k0s(),e.DNE(33,V,2,1,"div",17),e.j41(34,"div",18)(35,"button",19),e.EFF(36,"Create Account"),e.k0s()()()()()()),2&n){let a,u,m,d,E,f,_,N,k,R,j,c;e.R7$(3),e.Y8G("formGroup",r.registerForm),e.R7$(7),e.AVh("is-invalid",r.submitted&&(null==(a=r.registerForm.get("firstName"))?null:a.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(u=r.registerForm.get("firstName"))?null:u.hasError("required"))),e.R7$(1),e.Y8G("ngIf",r.submitted&&(null==(m=r.registerForm.get("firstName"))?null:m.hasError("minlength"))||(null==(m=r.registerForm.get("firstName"))?null:m.hasError("maxlength"))),e.R7$(2),e.AVh("is-invalid",r.submitted&&(null==(d=r.registerForm.get("lastName"))?null:d.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(E=r.registerForm.get("lastName"))?null:E.hasError("required"))),e.R7$(1),e.Y8G("ngIf",r.submitted&&(null==(f=r.registerForm.get("lastName"))?null:f.hasError("minlength"))||(null==(f=r.registerForm.get("lastName"))?null:f.hasError("maxlength"))),e.R7$(2),e.AVh("is-invalid",r.submitted&&(null==(_=r.registerForm.get("email"))?null:_.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(N=r.registerForm.get("email"))?null:N.hasError("required"))),e.R7$(1),e.Y8G("ngIf",r.submitted&&(null==(k=r.registerForm.get("email"))?null:k.hasError("pattern"))),e.R7$(2),e.AVh("is-invalid",r.submitted&&(null==(R=r.registerForm.get("password"))?null:R.errors)),e.R7$(3),e.Y8G("ngIf",r.submitted&&(null==(j=r.registerForm.get("password"))?null:j.hasError("required"))),e.R7$(1),e.Y8G("ngIf",r.submitted&&(null==(c=r.registerForm.get("password"))?null:c.hasError("minlength"))||(null==(c=r.registerForm.get("password"))?null:c.hasError("maxlength"))),e.R7$(1),e.Y8G("ngIf",r.errorMessage.length>0)}},dependencies:[g.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,b]})}}return t})()}];let A=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(X),p.iI]})}}return t})();var z=l(3887);let P=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[g.MD,A,z.G,i.X1]})}}return t})()}}]);